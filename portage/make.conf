# NOTE: This stage was built with the bindist Use flag enabled

# This sets the language of build output to English.
# Please keep this setting intact when reporting bugs.
LC_MESSAGES=C.utf8
# These settings were set by the catalyst build script that automatically
# built this stage.
# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.
COMMON_FLAGS="-O2 -pipe -march=native"
CFLAGS="${COMMON_FLAGS}"
CXXFLAGS="${COMMON_FLAGS}"
FCFLAGS="${COMMON_FLAGS}"
FFLAGS="${COMMON_FLAGS}"

# NOTE: This stage was built with the bindist Use flag enabled
PORTDIR="/var/db/repos/gentoo"
DISTDIR="/var/cache/distfiles"
PKGDIR="/var/cache/binpkgs"

USE="wayland -sendmail pulseaudio gtk4 -gpm  -gtk-doc vaapi pipewire"
ACCEPT_LICENSE="*"
L10N="en en-US zh-CN"
#VIDEO_CARDS="amdgpu radeonsi i915"
#ALSA_CARDS="maestro3 hdsp hdspm ymfpci"
KCFLAGS="-march=native -pipe"

# CPU_FLAGS_X86 can be generated by cpuid2flags:
# echo "*/* $(cpuid2cpuflags)" > /etc/portage/package.use/00cpu-flags

FEATURES="binpkg-request-signature"

# No need to set this, clang-common can handle this based on chosen USE flags
#LDFLAGS="${LDFLAGS} -fuse-ld=lld -rtlib=compiler-rt -unwindlib=libunwind -Wl,--as-needed"

GENTOO_MIRRORS="https://mirrors.tuna.tsinghua.edu.cn/gentoo \
    https://mirrors.163.com/gentoo/"


FETCHCOMMAND="/usr/bin/aria2c --conf-path=/etc/portage/aria2.conf -d \"\${DISTDIR}\" -o \"\${FILE}\" \"\${URI}\""
RESUMECOMMAND="/usr/bin/aria2c --conf-path=/etc/portage/aria2.conf -d \"\${DISTDIR}\" -o \"\${FILE}\" \"\${URI}\""
